# VoxelNoxel

Минималистичный воксельный движок на C++17 с использованием OpenGL, GLFW, GLEW и GLM. Рендерит чанк 16×16×16, генерируя видимые грани кубических вокселей на CPU и выводя их как меш.

## Возможности
- Генерация меша из чанка вокселей с отсечением скрытых граней
- Атлас текстур 16×16 с вычислением UV
- Простая модель освещения на уровне вершин (коэффициент яркости на грань)
- Камера с управлением WASD + мышь, ограничение по вертикальному углу
- Загрузка PNG-текстур, система шейдеров и униформ

## Структура проекта
- `CMakeLists.txt`: сборка CMake (C++17, зависимости, копирование ресурсов в `build/bin/res`).
- `res/`: ресурсы рантайма
  - `main.glslv`, `main.glslf`: вершинный и фрагментный шейдеры
  - `block.png`, `img.png`: текстуры (атлас и/или одиночные)
- `src/voxel_engine.cpp`: точка входа, инициализация окна/ввода/рендера, главный цикл
- `src/window/`:
  - `Window.*`: обёртка над GLFWwindow (инициализация, swap, флаги)
  - `Events.*`: ввод (клавиши/мышь, pressed/jpressed, дельта, блокировка курсора)
  - `Camera.*`: камера, `getProjection()`, `getView()`, `rotate()`
- `src/graphics/`:
  - `Shader.*`: загрузка и использование GLSL, `uniformMatrix`
  - `Texture.*`: текстура OpenGL, `bind()`; загрузка — в `loaders/png_loading`
  - `Mesh.*`: VAO/VBO, отрисовка `draw(GL_TRIANGLES)`
  - `VoxelRenderer.*`: генерация вершин (позиция 3, UV 2, light 1), проверка соседей, создание `Mesh`
- `src/voxels/`:
  - `voxel.h`: `uint8_t id` (0 — пусто)
  - `Chunk.*`: чанк 16×16×16, линейный массив вокселей `voxels`
- `src/loaders/png_loading.*`: `load_texture(path)` (PNG → OpenGL-текстура)
- `libs/`: локальные заголовки/библиотеки (GLEW/GLFW/GLM/stб/libpng) для оффлайн-сборки
- `build/`: артефакты сборки (CMake/Ninja, `bin/VoxelNoxel.exe`, скопированные ресурсы)

## Сборка
Требуется CMake (>=3.20), компилятор с C++17, OpenGL, а также библиотеки: GLFW, GLEW, GLM, PNG. В проект включены локальные заголовки/либы в `libs/`.

```bash
# из корня проекта
cmake -S . -B build -G Ninja
cmake --build build --config Release
```

После сборки ресурсы будут скопированы в `build/bin/res`.

## Запуск
```bash
./build/bin/VoxelNoxel.exe
```
Исполняемый файл ожидает наличие ресурсов (шейдеров и текстур) в `build/bin/res`.

## Управление
- **W / A / S / D**: перемещение камеры
- **TAB**: переключить захват курсора
- **ESC**: выход
- **Мышь**: поворот камеры (с ограничением по вертикальному углу)

## Технические детали
- Размер чанка задаётся в `src/voxels/Chunk.h`: `CHUNK_W/H/D = 16`
- Схема атрибутов вершин меша: позиция (3), UV (2), освещённость (1) — терминатор `0`
- UV расчитываются по атласу 16×16: `uvsize = 1/16`, индекс определяется из `voxel.id`
- Рендер-пайплайн в `voxel_engine.cpp`: установка `model` и `projview`, `texture.bind()`, `mesh.draw(GL_TRIANGLES)`

## План развития
- Генерация мира/шумов, LOD
- Батчинг/инстансинг, индексированные меши
- Освещение/тени, ambient occlusion
- Менеджер атласа, разные материалы
- Сохранение/загрузка мира

## Лицензия
Уточните условия использования в рамках вашего репозитория (по умолчанию — закрытый, пока не добавлена лицензия).

# VoxelNoxel

Минималистичный воксельный движок на C++17 с использованием OpenGL, GLFW, GLEW и GLM. Рендерит чанк 16×16×16, генерируя видимые грани кубических вокселей на CPU и выводя их как меш.

## Возможности
- Генерация меша из чанка вокселей с отсечением скрытых граней
- Атлас текстур 16×16 с вычислением UV
- Простая модель освещения на уровне вершин (коэффициент яркости на грань)
- Камера с управлением WASD + мышь, ограничение по вертикальному углу
- Загрузка PNG-текстур, система шейдеров и униформ

## Структура проекта
- `CMakeLists.txt`: сборка CMake (C++17, зависимости, копирование ресурсов в `build/bin/res`).
- `res/`: ресурсы рантайма
  - `main.glslv`, `main.glslf`: вершинный и фрагментный шейдеры
  - `block.png`, `img.png`: текстуры (атлас и/или одиночные)
- `src/voxel_engine.cpp`: точка входа, инициализация окна/ввода/рендера, главный цикл
- `src/window/`:
  - `Window.*`: обёртка над GLFWwindow (инициализация, swap, флаги)
  - `Events.*`: ввод (клавиши/мышь, pressed/jpressed, дельта, блокировка курсора)
  - `Camera.*`: камера, `getProjection()`, `getView()`, `rotate()`
- `src/graphics/`:
  - `Shader.*`: загрузка и использование GLSL, `uniformMatrix`
  - `Texture.*`: текстура OpenGL, `bind()`; загрузка — в `loaders/png_loading`
  - `Mesh.*`: VAO/VBO, отрисовка `draw(GL_TRIANGLES)`
  - `VoxelRenderer.*`: генерация вершин (позиция 3, UV 2, light 1), проверка соседей, создание `Mesh`
- `src/voxels/`:
  - `voxel.h`: `uint8_t id` (0 — пусто)
  - `Chunk.*`: чанк 16×16×16, линейный массив вокселей `voxels`
- `src/loaders/png_loading.*`: `load_texture(path)` (PNG → OpenGL-текстура)
- `libs/`: локальные заголовки/библиотеки (GLEW/GLFW/GLM/stb/libpng) для оффлайн-сборки
- `build/`: артефакты сборки (CMake/Ninja, `bin/VoxelNoxel.exe`, скопированные ресурсы)

## Сборка
Требуется CMake (>=3.20), компилятор с C++17, OpenGL, а также библиотеки: GLFW, GLEW, GLM, PNG. В проект включены локальные заголовки/либы в `libs/`.

```bash
# из корня проекта
cmake -S . -B build -G Ninja
cmake --build build --config Release
```

После сборки ресурсы будут скопированы в `build/bin/res`.

## Запуск
```bash
./build/bin/VoxelNoxel.exe
```
Исполняемый файл ожидает наличие ресурсов (шейдеров и текстур) в `build/bin/res`.

## Управление
- **W / A / S / D**: перемещение камеры
- **TAB**: переключить захват курсора
- **ESC**: выход
- **Мышь**: поворот камеры (с ограничением по вертикальному углу)

## Технические детали
- Размер чанка задаётся в `src/voxels/Chunk.h`: `CHUNK_W/H/D = 16`
- Схема атрибутов вершин меша: позиция (3), UV (2), освещённость (1) — терминатор `0`
- UV расчитываются по атласу 16×16: `uvsize = 1/16`, индекс определяется из `voxel.id`
- Рендер-пайплайн в `voxel_engine.cpp`: установка `model` и `projview`, `texture.bind()`, `mesh.draw(GL_TRIANGLES)`

## План развития
- Генерация мира/шумов, LOD
- Батчинг/инстансинг, индексированные меши
- Освещение/тени, ambient occlusion
- Менеджер атласа, разные материалы
- Сохранение/загрузка мира

## Лицензия
Уточните условия использования в рамках вашего репозитория (по умолчанию — закрытый, пока не добавлена лицензия).



